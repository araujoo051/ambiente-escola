<!DOCTYPE html>
<html lang="en">
<%- include('../partials/head') %>

    <%- include('../partials/header') %>

        <main id="cursos">
            <div id="cursos_container">

                <div id="cursos_header">
                    <h1>Cursos do IFRS:</h1>
                    <p>Confira abaixo os cursos oferecidos pelo Instituto Federal do Rio Grande do Sul - Campus
                        Restinga.</p>
                </div>

                <div id="cursos_buttons">
                    <ul>
                        <li><a href="/cursos/novo">Inserir</a></li>
                        <li><a href="/cursos/atualizar">Atualizar</a></li>
                        <li><a href="/cursos/excluir">Excluir</a></li>
                    </ul>
                </div>

                <div id="cursos_search">
                    <form action="/cursos/buscar" method="get">
                        <input type="text" name="search" placeholder="Buscar curso..." required>
                        <button type="submit">Filtrar</button>
                    </form>
                </div>

                <% if (errorMessage) { %>
                    <p style="color: red;">
                        <%= errorMessage %>
                    </p>
                    <% } else if (search && cursos.length> 0) { %>
                        <div id="resultados_busca">
                            <h2>Resultados para: "<%= search %>"</h2>
                            <table>
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Nome</th>
                                        <th>Modalidade</th>
                                        <th>Semestre</th>
                                        <th>Turno</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% cursos.forEach(curso=> { %>
                                        <tr>
                                            <td>
                                                <%= curso.id %>
                                            </td>
                                            <td>
                                                <%= curso.nome %>
                                            </td>
                                            <td>
                                                <%= curso.modalidade %>
                                            </td>
                                            <td>
                                                <%= curso.semestre %>
                                            </td>
                                            <td>
                                                <%= curso.turno %>
                                            </td>
                                        </tr>
                                        <% }) %>
                                </tbody>
                            </table>
                            <% } else if (search) { %>
                                <p>Nenhum curso encontrado para "<%= search %>".</p>
                                <% } %>

                        </div>
        </main>

        <%- include('../partials/footer') %>

</html>